# Plamya Spring Project

## Описание

Plamya Spring Project - это пет-проект, использующий Spring Security для аутентификации на основе JWT и авторизации с помощью OAuth2.0. Проект создан для обучения и демонстрации возможностей Spring Security в современных веб-приложениях.

## Структура проекта

Проект имеет следующую структуру директорий:

```
plamya-spring/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── by/
│   │   │       └── plamya/
│   │   │           └── project/
│   │   │               ├── config/
│   │   │               ├── controller/
│   │   │               ├── dto/
│   │   │               ├── entity/
│   │   │               ├── exceptions/
│   │   │               ├── facade/
│   │   │               ├── payload/
│   │   │               │   ├── request/
│   │   │               │   └── response/
│   │   │               ├── repository/
│   │   │               ├── security/
│   │   │               │    └── oauth/
│   │   │               ├── service/
│    |  |              |     └── impl/
│    |  |              |
│    |  |              ├── utils/
│    |  |              |    ├── annotations/
|    |  |              |    ├── constants/ 
|    |  |              |    ├── enums/ 
|    |  |              |    └── validations/ 
|    |  |
|    |  |
|    |  |
|    |  |
|    |
|     ......
|
├── test/
|      ......
```

### Основные директории:

- **config**: Содержит конфигурационные классы для проекта.
- **controller**: Включает контроллеры, обрабатывающие HTTP-запросы.
- **dto**: Data Transfer Objects для обмена данными между слоями.
- **entity**: JPA сущности, представляющие таблицы базы данных.
- **exceptions**: Обработка исключений и пользовательские исключения.
- **facade**: Фасадный слой для упрощения взаимодействия между контроллерами и сервисами.
- **payload**:
  - **request**: Классы запросов.
  - **response**: Классы ответов.
- **repository**: Репозитории для доступа к базе данных.
- **security**:
  - **oauth**: Конфигурации и функционал OAuth2.0.
- **service**:
  - **impl**: Реализация сервисов.
- **utils**:
  - **annotations**: Пользовательские аннотации.
  - **constants**: Константы, используемые в проекте.
  - **enums**: Перечисления (Enums).
  - **validations**: Валидационные классы

## Установка и запуск проекта

### Предварительные требования

Для запуска проекта необходимо наличие следующих компонентов:

- Java Development Kit (JDK) версии 11 или выше
- Gradle
- MySQL
  
### Шаги установки

1. Склонируйте репозиторий:
   
```sh
git clone https://github.com/yourusername/plamya-spring.git
cd plamya-spring
```

2. Настройте базу данных:

Создайте базу данных и обновите настройки подключения в файле `application.properties` (находится в директории `src/main/resources`).

3. Соберите проект с помощью Maven:

```sh
./gradlew clean build
```

4. Запустите приложение:

```sh
./gradlew run
```

Приложение будет доступно по адресу `http://localhost:8080`.

## API Endpoints

Ниже представлены основные API endpoints, доступные в приложении.

### Получить список всех пользователей

```http
GET /api/users
```
**Описание:** Возвращает список всех пользователей.

**Ответ:**
- **200 OK**: Список пользователей.
- **500 Internal Server Error**: Ошибка сервера.

### Создать нового пользователя

```http
POST /api/users
```
**Описание:** Создает нового пользователя.

**Тело запроса:**
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "password": "securepassword123"
}
```

**Ответ:**
- **201 Created**: Пользователь успешно создан.
- **400 Bad Request**: Неверный запрос.
- **500 Internal Server Error**: Ошибка сервера.

### Получить информацию о пользователе

```http
GET /api/users/{id}
```
**Описание:** Возвращает информацию о пользователе по его ID.

**Параметры пути:**
- `id` (строка): Идентификатор пользователя.

**Ответ:**
- **200 OK**: Информация о пользователе.
- **404 Not Found**: Пользователь не найден.
- **500 Internal Server Error**: Ошибка сервера.

### Обновить информацию о пользователе

```http
PUT /api/users/{id}
```
**Описание:** Обновляет информацию о пользователе по его ID.

**Параметры пути:**
- `id` (строка): Идентификатор пользователя.

**Тело запроса:**
```json
{
  "username": "johnupdated",
  "email": "johnupdated@example.com"
}
```

**Ответ:**
- **200 OK**: Пользователь успешно обновлен.
- **400 Bad Request**: Неверный запрос.
- **404 Not Found**: Пользователь не найден.
- **500 Internal Server Error**: Ошибка сервера.

### Удалить пользователя

```http
DELETE /api/users/{id}
```
**Описание:** Удаляет пользователя по его ID.

**Параметры пути:**
- `id` (строка): Идентификатор пользователя.

**Ответ:**
- **204 No Content**: Пользователь успешно удален.
- **404 Not Found**: Пользователь не найден.
- **500 Internal Server Error**: Ошибка сервера.

## Документация API

Вы можете найти полную документацию API, сгенерированную Swagger, по следующему адресу:
[Swagger UI](http://localhost:8080/swagger-ui.html)